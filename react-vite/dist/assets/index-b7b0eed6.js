import{c as v,j as e,b as d,r as h,u as C,i as w,F as k,z as b}from"./index-b5fc81fe.js";import{C as f}from"./CreateCourseModal-42ab3155.js";import{O as $}from"./OpenModalButton-94a933ea.js";import{S as F}from"./Sidebar-ae7ae17a.js";function m({course:a,font:n,theme:i}){const l=v(),c=x=>{window.scroll(0,0),l(x)};return e.jsx(e.Fragment,{children:a&&e.jsxs("div",{className:`flex gap-15 column acenter jcenter padding-15 h100 font-${n} ${i}`,children:[e.jsxs("div",{className:"flex gap-15",children:[e.jsx("p",{children:"Subject:"}),e.jsx("p",{className:`link ${i} no-dec`,onClick:()=>c(`/courses/${a.id}`),children:a.title}),e.jsx("p",{children:a.level})]}),e.jsx("div",{className:"course-image-container",children:e.jsx("img",{onClick:()=>c(`/courses/${a.id}`),src:a.image,className:`course-image link ${i} no-dec`})}),e.jsxs("div",{className:"flex gap-10",children:[e.jsx("p",{children:"Teacher:"}),e.jsx("p",{children:a.teacher.name})]}),e.jsx("a",{href:`mailto:${a.teacher.email}`,className:`link ${i} no-dec`,children:a.teacher.email})]})})}function D(){var p,u,g;const a=(p=d(s=>s.session.user))==null?void 0:p.settings.font_size,n=(u=d(s=>s.session.user))==null?void 0:u.settings.theme,i=(g=d(s=>s.session.user))==null?void 0:g.settings.role,l=d(s=>s.session.user),c=d(s=>s.courses.courses),[x,N]=h.useState(),o=C(),j=v();return h.useEffect(()=>{l||(j("/"),o(w()))},[j,o,l]),h.useEffect(()=>{(async()=>{await o(b()).then(N(!0))})()},[o]),e.jsx(e.Fragment,{children:l&&e.jsxs("div",{children:[e.jsx("div",{className:`flex column between ${n}1`,children:e.jsxs("main",{id:"main-container",className:"flex minh100 gap-60 mtop-229",children:[e.jsx(F,{selection:"courses"}),e.jsx("div",{id:"courses-container",className:`flex wrap gap-40 acenter ${n} font-${a} ${n}2`,children:x&&c&&e.jsxs(e.Fragment,{children:[i==="student"&&e.jsx(e.Fragment,{children:c.length&&(c==null?void 0:c.map(s=>e.jsx("div",{className:`course-content-cards ${n}3`,children:e.jsx(m,{course:s,font:a,theme:n})},`course:${s.id}`)))}),i==="parent"&&e.jsxs("div",{className:"flex aselfstart wp100",children:[!c.length&&e.jsxs("div",{className:`flex padding-40 column gap-15 ${n}2`,children:[e.jsx("h1",{children:"No children linked to your account yet."}),e.jsx("p",{children:"Add children to get started."}),e.jsx("p",{children:"To add children navigate to the account tab in the sidebar."})]}),c.length>0&&c.map(({student:s,courses:r})=>e.jsxs("div",{className:"flex column gap-40 wp100",children:[e.jsx("p",{className:"aselfstart",children:s.name}),e.jsxs("div",{className:"flex wrap gap-40 acenter",children:[!r.length&&e.jsxs("div",{className:`flex padding-40 column gap-15 ${n}2`,children:[e.jsx("h1",{children:"Child not assigned to courses yet."}),e.jsx("p",{children:"Contact administration to sign up for courses."})]}),r.length>0&&r.map(t=>e.jsx("div",{className:`course-content-cards ${n}3`,children:e.jsx(m,{course:t,font:a,theme:n})},`course:${t.id}`))]})]},`child:${s==null?void 0:s.id}`))]}),i==="teacher"&&e.jsxs("div",{className:"flex column gap-25",children:[e.jsx($,{modalComponent:e.jsx(f,{}),buttonText:"Create course"}),e.jsx("div",{className:`flex wrap gap-40 acenter ${n} font-${a}`,children:c.length>0&&c.map(s=>e.jsx("div",{className:`course-content-cards ${n}3`,children:e.jsx(m,{course:s,font:a,theme:n})},`course:${s.id}`))}),e.jsx($,{modalComponent:e.jsx(f,{}),buttonText:"Create course"})]}),i==="admin"&&e.jsx("div",{className:"flex column gap-25",children:c.length>0&&c.map(({teacher:s,courses:r})=>e.jsxs("div",{className:"flex column gap-25",children:[e.jsxs("h1",{children:[s.name,"'s courses:"]}),e.jsx("div",{className:`flex wrap gap-40 acenter ${n} font-${a}`,children:r.length>0&&r.map(t=>e.jsx("div",{className:`course-content-cards ${n}3`,children:e.jsx(m,{course:t,font:a,theme:n})},`course:${t.id}`))})]},`teacher:${s.id}`))})]})})]})}),e.jsx(k,{})]})})}export{D as default};
