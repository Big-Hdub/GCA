import{r as l,u as f,j as e,t as g,a as $,b as m,c as v,d as N,F as b}from"./index-8b89f411.js";import{S}from"./Sidebar-13def994.js";function C({student:a,theme:t,font:u,courses:x}){const[n,h]=l.useState(""),[p,r]=l.useState(!1),c=f();l.useEffect(()=>{var d;const i=(d=a.courses.filter(s=>+s.id==+n))==null?void 0:d.length;r(i===1)},[n,h,a]);const o=(i,d)=>{c(i?g(a.id,d):$(a.id,d))};return e.jsxs("div",{className:"flex gap-15 acenter between",children:[e.jsxs("p",{children:[a.name,":"]}),e.jsxs("div",{className:"flex gap-15",children:[e.jsx("p",{children:"Courses"}),e.jsxs("select",{className:`selpad10 ${t}1 ${t} font-${u} w300px`,onChange:i=>h(i.target.value),defaultValue:n,children:[e.jsx("option",{value:"",disabled:!0,children:"Select a course"}),x.map(i=>e.jsxs("option",{value:+i.id,children:[i.title," ",i.level]},`student-${a.id}:course-${+i.id}`))]}),n!==""?e.jsx(e.Fragment,{children:p?e.jsx("button",{onClick:()=>o(!0,+n),className:"button red",children:"Remove from class"}):e.jsx("div",{className:"w134px",children:e.jsx("button",{onClick:()=>o(!1,+n),className:"button",children:"Add to class"})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"w134px"})})]})]},`student-${a.id}`)}function w(){var o,i,d;const a=(o=m(s=>s.session.user))==null?void 0:o.settings.font_size,t=(i=m(s=>s.session.user))==null?void 0:i.settings.theme,u=(d=m(s=>s.session.user))==null?void 0:d.settings.role,x=m(s=>s.session.user),n=m(s=>s.admin.data),[h,p]=l.useState(!1),r=f(),c=v();return l.useEffect(()=>{r(N()).then(()=>p(!0))},[r]),l.useEffect(()=>{u!=="admin"&&c("/dashboard")},[c,u]),e.jsx(e.Fragment,{children:x&&h&&e.jsxs("div",{children:[e.jsx("div",{className:`flex column between ${t}1`,children:e.jsxs("main",{id:"main-container",className:"flex mtop-229 minh100 gap-60",children:[e.jsx(S,{selection:"administration"}),e.jsxs("div",{id:"administration-container",className:`flex column gap-40 padding-40 ${t} font-${a} ${t}2`,children:[e.jsxs("div",{className:`flex column gap-10 padding-15 ${t} font-${a} ${t}3`,children:[e.jsx("p",{children:"Teachers:"}),n.teachers.length>0&&n.teachers.map(s=>e.jsx("div",{children:e.jsx("p",{children:s.name})},`teacher-${s.id}`))]}),e.jsxs("div",{className:`flex column gap-10 padding-15 ${t} font-${a} ${t}3`,children:[e.jsx("p",{children:"Parents:"}),n.parents.length>0&&n.parents.map(s=>e.jsx("div",{children:e.jsx("p",{children:s.name})},`parent-${s.id}`))]}),e.jsxs("div",{className:`flex column gap-10 padding-15 ${t} font-${a} ${t}3`,children:[e.jsx("p",{children:"Students:"}),n.students.length>0&&n.students.map(s=>e.jsx(C,{student:s,theme:t,font:a,courses:n.courses.filter(j=>j.level===s.gradeLevel)},`student-${s.id}`))]})]})]})}),e.jsx(b,{})]})})}export{w as default};
