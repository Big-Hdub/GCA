import{c as A,u as E,j as e,v as G,b as p,r as v,w as T,i as z,f as B,F as I,x as P}from"./index-8b89f411.js";import{S as R}from"./Sidebar-13def994.js";function N({lesson:i,complete:n,font:d,theme:o,parent:a,teacher:j,assigned:b,student:h}){const f=A(),g=E(),m=u=>{window.scroll(0,0),f(u)};return e.jsxs(e.Fragment,{children:[i&&!a&&!j&&e.jsxs("div",{className:`flex gap-15 column acenter jcenter padding-15 h100 font-${d} ${o}`,children:[e.jsxs("p",{children:["Subject: ",i.course]}),e.jsx("p",{className:"link",onClick:()=>m(`/lessons/${i.id}`),children:i.title}),e.jsxs("span",{className:"flex gap-15",children:[e.jsx("p",{children:i.type}),e.jsx("p",{children:n?"complete":"not complete"})]})]}),i&&a&&e.jsxs("div",{className:`flex wrap gap-15 acenter font-${d} ${o}`,children:[e.jsx("p",{className:"link",onClick:()=>m(`/lessons/${i.id}`),children:i.title}),e.jsx("p",{children:n?"complete":"not complete"})]}),i&&j&&e.jsxs("div",{className:`flex wrap gap-15 acenter font-${d} ${o}`,children:[e.jsx("p",{className:"link",onClick:()=>m(`/lessons/${i.id}`),children:i.title}),e.jsx("p",{children:n?"complete":"not complete"}),b?e.jsx("p",{children:"assigned"}):e.jsx("p",{className:"link",onClick:()=>g(G(i.id,h)),children:"assign"})]})]})}function _(){var g,m,u,y,k,F,L,C,D;const i=(g=p(s=>s.session.user))==null?void 0:g.settings.font_size,n=(m=p(s=>s.session.user))==null?void 0:m.settings.theme,d=(u=p(s=>s.session.user))==null?void 0:u.settings.role,o=p(s=>s.session.user),a=p(s=>s.dash.dash),[j,b]=v.useState(!1),h=E(),f=A();return v.useEffect(()=>{o||(f("/"),h(T()))},[h,f,n,o]),v.useEffect(()=>{h(z),h(B),(async()=>{await h(P()).then(b(!0))})()},[h]),v.useEffect(()=>{},[a]),e.jsx(e.Fragment,{children:o&&e.jsxs("div",{children:[e.jsx("div",{className:`flex column between ${n}1`,children:e.jsxs("main",{id:"main-container",className:"flex minh100 gap-60 mtop-229",children:[e.jsx(R,{selection:"dashboard"}),j&&a&&e.jsxs("div",{id:"dashboard-container",className:`flex column gap-40 acenter ${n} font-${i}`,children:[e.jsxs("h1",{id:"dashboard-welcome",children:["Welcome ",o.name]}),e.jsxs("div",{id:"dashboard-verse-container",className:`flex column gap-10 ${n}2`,children:[e.jsx("p",{id:"dashboard-verse",className:`${n} `,children:"Therefore, as God's chosen people, holy and dearly loved, clothe yourselves with compassion, kindness, humility, gentleness and patience.  Bear with each other and forgive one another if any of you has a grievance against someone.  Forgive as the Lord forgave you.  And over all these virtues put on love, which binds them all together in perfect unity."}),e.jsx("p",{className:`${n} aselfend`,children:"Colossians 3:12-14"})]}),d==="new"&&e.jsx("h2",{id:"dashboard-lessons-title",className:"aselfstart",children:"Administration action needed to assign your role.  Please contact staff for help."}),d==="student"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{id:"dashboard-lessons-title",className:"aselfstart",children:"Lessons for you to complete today:"}),e.jsx("div",{id:"dashboard-cards-container",className:`flex gap-15 ${n}2`,children:e.jsx("div",{id:"dashboard-content",className:"flex gap-15",children:a==null?void 0:a.map(s=>e.jsx("div",{className:`dashboard-content-card ${n}3`,children:e.jsx(N,{lesson:s})},`student:lesson:${s.lesson}title:${s.title}`))})})]}),d==="parent"&&e.jsxs(e.Fragment,{children:[!((k=(y=a[0])==null?void 0:y.lessons)!=null&&k.length)&&e.jsxs("div",{className:`flex padding-40 column gap-15 ${n}2`,children:[e.jsx("h1",{children:"No children assigned to courses yet."}),e.jsx("p",{children:"Add children to get started."}),e.jsx("p",{children:"To add children navigate to the account tab in the sidebar."}),e.jsx("p",{children:"After children are added to your account, if you still receive this message contact administration to sign up for courses."})]}),((L=(F=a[0])==null?void 0:F.lessons)==null?void 0:L.length)&&e.jsxs("h2",{id:"dashboard-lessons-title",className:"aselfstart",children:["Lessons assigned to your ",(a==null?void 0:a.length)>1?"children":"child",":"]}),((D=(C=a[0])==null?void 0:C.lessons)==null?void 0:D.length)&&(a==null?void 0:a.map(({student:s,lessons:r})=>e.jsx("div",{children:r&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"student-names mbotton-15 aselfstart",children:s==null?void 0:s.name}),e.jsx("div",{id:"dashboard-cards-container",className:`flex gap-15 ${n}2`,children:e.jsx("div",{id:"dashboard-content",className:"flex gap-15",children:r==null?void 0:r.map(c=>{const[l,t]=[...c];return e.jsx("div",{className:"dashboard-content-card",children:e.jsx(N,{lesson:t,complete:l,font:i,theme:n,parent:!0})},`parent:lesson:${t.lesson}title:${t.title}`)})})})]})},`child:${s==null?void 0:s.id}`)))]}),d==="teacher"&&e.jsxs(e.Fragment,{children:[e.jsxs("h2",{id:"dashboard-lessons-title",className:"aselfstart",children:["Lessons assigned to your ",(a==null?void 0:a.courses.length)>1?"students":"student",":"]}),a.courses&&a.courses.map(s=>e.jsxs("div",{className:"flex column wp100",children:[e.jsxs("p",{className:"course-names",children:["Course: ",s.title," ",s.level]}),s.students.map(({student:r,lessons:c})=>e.jsx("div",{className:"flex column wp100",children:c&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"student-names mbotton-15 aselfstart",children:r==null?void 0:r.name}),e.jsx("div",{className:`dashboard-cards-container flex gap-15 ${n}2`,children:e.jsx("div",{className:"dashboard-content between acenter flex gap-15",children:c==null?void 0:c.map(l=>{const[t,$,x]=[...l];return e.jsx("div",{className:"dashboard-content-card",children:e.jsx(N,{lesson:x,complete:t,font:i,theme:n,teacher:!0,assigned:$,student:r.id})},`teacher:lesson:${x.lesson}title:${x.title}`)})})})]})},`child:${r==null?void 0:r.id}`))]},`course:${s.id}`))]}),d==="admin"&&e.jsx(e.Fragment,{children:(a==null?void 0:a.length)>0&&a.map(({teacher:s,courses:r})=>e.jsxs("div",{className:"flex column gap-15",children:[e.jsxs("h1",{className:"top-130 aselfstart",children:[s.name,":"]}),e.jsxs("h2",{id:"dashboard-lessons-title",className:"aselfstart",children:["Lessons assigned to ",r.length>1?"students":"student",":"]}),r.courses.map(c=>e.jsxs("div",{className:"flex column gap-15 wp100",children:[e.jsxs("p",{className:"course-names",children:["Course: ",c.title," ",c.level]}),c.students.map(({student:l,lessons:t})=>e.jsx("div",{className:"flex column wp100",children:t&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"student-names mbotton-15 aselfstart",children:l==null?void 0:l.name}),e.jsx("div",{className:`dashboard-cards-container flex gap-15 ${n}2`,children:e.jsx("div",{className:"dashboard-content between acenter flex gap-15",children:t==null?void 0:t.map($=>{const[x,S,w]=[...$];return e.jsx("div",{className:"dashboard-content-card",children:e.jsx(N,{lesson:w,complete:x,font:i,theme:n,teacher:!0,assigned:S,student:l.id})},`teacher:lesson:${w.lesson}title:${w.title}`)})})})]})},`child:${l==null?void 0:l.id}`))]},`course:${c.id}`))]},`teacher:${s.id}`))})]})]})}),e.jsx(I,{})]})})}export{_ as default};
